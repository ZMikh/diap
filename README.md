## Тестовое задание. Автоматическое распределение заявок на добычу охотничьих ресурсов

### Краткое описание процесса
- Сервис управления данными заявок на добычу охотничьих ресурсов
- Автоматическая проверка заявок и одобрение/отклонение

### Доменная модель
- Заявка
  - Идентификатор заявки
  - Фамилия заявителя
  - Имя заявителя
  - Отчество заявителя
  - Тип заявки
  - Дата выдачи охотбилета
  - Серия охотбилета
  - Номер охотбилета
  - Количество запрашиваемого ресурса
  - Дата создания заявки
  - Ресурс
  - Статус рассмотрения заявки
- Охотничий ресурс
  - Район ресурса
  - Название ресурса
  - Статус рассмотрения ресурса
  - Квота
  - Дата старта приема заявок
  - Дата окончания приема заявок

### Описание работы с endpoints
- #### Создание заявки
  - ```POST http://localhost:8080/api/v1/application/add/{id}```
    - в @RequestBody передаются параметры
      - ```lastname``` – фамилия заявителя 
      - ```firstname``` – имя заявителя 
      - ```middlename``` – отчество заявителя 
      - ```applicationType``` – тип заявки 
      - ```huntingLicenseDateOfIssue``` – дата выдачи охотбилета 
      - ```huntingLicenseSeries``` – серия охотбилета 
      - ```huntingLicenseNumber``` – номер охотбилета 
      - ```count``` – количество запрашиваемого ресурса
    - в @PathVariable передается ```id``` – идентификатор ресурса
    - при отсутствии параметра или передаче пустых значений полей на создание заявки выйдет сообщение об ошибке

- #### Получение заявки
  - ```GET http://localhost:8080/api/v1/application/{id}```
    - в @PathVariable передается ```id``` – идентификатор заявки
    - в случае отсутствии заявки с данными ```id``` выйдет сообщение об ошибке
 
- #### Получение всех заявок
  - ```GET http://localhost:8080/api/v1/application```
  
- #### Обновление заявки
  - ```PUT http://localhost:8080/api/v1/application/update-by-id/{id}```
  - в @RequestBody передаются параметры
    - ```applicationState``` – статус заявки
  - в @PathVariable передается ```id``` – идентификатор заявки 

- #### Удаление заявки
  - ```DELETE http://localhost:8080/api/v1/application/delete-by-id/{id}```
  - в @PathVariable передается ```id``` – идентификатор заявки

- #### Переключатель для старта/останова одобрения/отклонения заявок
  - ```POST http://localhost:8080/api/v1/job```

### Описание процесса одобрения заявок
  - Бизнес-логика реализована в классе ```ApplicationCheckServiceImpl```
  - Критерии одобрения заявки
    - Заявитель запрашивает количество ресурса, не превышающее квоту на ресурс
    - Заявитель подает заявку в сроки приема заявок по ресурсу
  - Заявитель может запросить ресурсы разными заявками
    - в случае одобрения данного ресурса в другом районе текущая заявка отклоняется
    - уникальность заявителя проверяется серией и номером охотбилета

### Конфигурация
- Переменные окружения для настройки проекта
    - ```DATABASE_URL``` - url для подключения к БД
    - ```DATABASE_USERNAME``` - username БД
    - ```DATABASE_PASSWORD``` - password для входа в БД
- Приложение запускается под портом ```8080```
- Использование Swagger для тестирования endpoints ```http://localhost:8080/swagger-ui.html#/```

### Используемые в проекте технологии
- ```Spring Data Jpa```
- ```Liquibase```
- ```Mapstruct```
- ```SpringDoc OpenAPI```
- ```Testcontainers```